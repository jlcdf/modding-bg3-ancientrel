// Astral Portal VFX
new entry "ASTRAL_PORTAL_VFX"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "ASTRAL_PORTAL_VFX"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting"
data "ApplyEffect" "92c42c64-218f-4e02-a79c-ed80aca2b1f8"


// Amulet of the Sapphire Depths
new entry "SJ01"
type "Armor"
using "ARM_Amulet"
data "RootTemplate" "c79ca51a-c6a7-4b33-bc9b-57e38ce55cf7"
data "ValueOverride" "200"
data "Rarity" "Uncommon"
data "Unique" "1"
data "ComboCategory" "d1"
data "ValueLevel" "4"
data "PassivesOnEquip" "SJ01_bonus"
data "Boosts" "Ability(Constitution, 1, 22)"

new entry "SJ01_bonus"
type "PassiveData"
data "DisplayName" "hf0d37a34gfb7dg4391gbd94g518886cbd319;1"
data "Description" "h14914b2agcf42g4e22g878fge4935bff9eca;1"
data "DescriptionParams" "Distance(3)"
data "Properties" "Highlighted"
data "Boosts" "ActionResource(Movement, -3, 0)"
data "StatsFunctorContext" "OnStatusApplied"
data "Conditions" "StatusHasStatusGroup(context.StatusId, 'SG_Paralyzed') and not HasStatus('SJ01_1', context.Target)"
data "StatsFunctors" "ApplyStatus(SJ01_1, 100, -1)"

new entry "SJ01_1"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hf0d37a34gfb7dg4391gbd94g518886cbd319;1"
data "StackId" "SJ01_1"
data "Boosts" ""
data "StackType" "Overwrite"
data "TickType" "EndTurn"
data "TickFunctors" "RegainHitPoints(context.Target.MaxHP);RestoreResource(KiPoint, 100%, 0)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "RemoveConditions" "StatusHasStatusGroup(context.StatusId, 'SG_Paralyzed')"
data "RemoveEvents" "OnStatusRemoved"
data "StatusEffect" "2ee459f1-ccfe-4bc5-8258-54c84599448e"

// The Squeezer
new entry "SJ02"
type "Armor"
using "ARM_Ring"
data "RootTemplate" "eb0acb80-887b-4c1e-98d8-792c8a82fc32"
data "ValueOverride" "400"
data "Rarity" "Rare"
data "Unique" "1"
data "ComboCategory" "d2"
data "ValueLevel" "4"
data "PassivesOnEquip" "SJ02_bonus"
data "Boosts" "WeightCategory(+1);AC(1)"
data "StatusOnEquip" "SJ02_TECHNICAL"

new entry "SJ02_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "SJ02_TECHNICAL"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting;ApplyToDead"
data "OnRemoveFunctors" "RemoveStatus(SJ02_3)"

new entry "SJ02_BERBALANG_VFX"
type "StatusData"
data "StatusType" "BOOST"
data "StatusEffect" "5cce97f3-4414-45dd-a482-d797859fc595"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "SJ02_BERBALANG_VFX_02"
type "StatusData"
data "StatusType" "BOOST"
data "StatusEffect" "a4e2e354-6d4c-41b8-ba01-96e188a47231"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "SJ02_bonus"
type "PassiveData"
data "DisplayName" "h64b37061gc748g4602g802cg8c8b2ceca40e;1"
data "Description" "hf8462e72g9d60g47dbgbc5fg1a1c77940f9c;1"
data "DescriptionParams" "Distance(10);15"
data "Properties" "Highlighted"
data "Boosts" ""
data "StatsFunctorContext" "OnEquip;OnCreate"
data "Conditions" "not HasStatus('SJ02_AURA', context.Source)"
data "StatsFunctors" "ApplyStatus(SELF,SJ02_AURA, 100, -1)"

new entry "SJ02_AURA"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h6cefcec9gd9b4g43abg9b67gebc308295210;1"
data "Description" "hd3e98ae8g701bg437eg800dgea05debcc449;1"
data "ExtraDescription" "hf816ae13g8425g4a79gbe58g0385073ea6e4;1"
data "DescriptionParams" "Distance(10)"
data "Icon" "SJ02_AURA"
data "StackId" "SJ02_AURA"
data "AuraRadius" "10"
data "FormatColor" "Summoner"
data "AuraStatuses" "IF(Character() and TargetSizeEqualOrSmaller(Size.Tiny) and not HasStatus('SJ02_3') and not HasStatus('SPIRITUAL_WEAPON') and not HasStatus('SPIRITUAL_WEAPON_4') and not HasStatus('SPIRITUAL_WEAPON_6')):ApplyStatus(SJ02_1)"
data "Boosts" ""
data "RemoveConditions" ""
data "RemoveEvents" ""
data "StatusPropertyFlags" "ApplyToDead"
data "StatusGroups" "SG_RemoveOnRespec"
data "Passives" "SJ02_Switcher"

new entry "SJ02_VFX"
type "StatusData"
data "StatusType" "BOOST"
data "StatusEffect" "d392fec4-49af-4d74-b4e9-eb8fd2c749ca"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "SJ02_1"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h22d8efedgcb24g4327g8cc2g02b8602ae0a0;1"
data "StackId" "SJ02_1"
data "OnApplyFunctors" "IF(not SavingThrow(Ability.Constitution, 15)):ApplyStatus(SJ02_2,100,-1);IF(not HasStatus('SJ02_2')):ApplyStatus(SJ02_3,100,-1)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "SJ02_2"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hcd7c8c7bg9179g422ag9414gd8c990c439ea;1"
data "StackId" "SJ02_2"
data "Boosts" "ScaleMultiplier(0.01)"
data "OnApplyFunctors" "SwitchDeathType(Disintegrate);Kill();IF(RollDieAgainstDC(DiceType.d100,86)):Spawn(ee164c72-ca83-481c-b072-e4852899bd2e,Projectile_AiHelper_Summon_Strong,SHADOWCURSE_SUMMON_CHECK,BERBALANG_SIGHT,ASTRAL_PORTAL_VFX)"
data "ApplyEffect" "e0b33e37-579d-4ea6-ac91-50fced6b376c"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;ApplyToDead"

new entry "SJ02_3"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h7c6d97e0gecc3g4505gac36g0cb204685dcc;1"
data "Description" "h24c5f47cg4d33g4b30gae51ga89582071fca;1"
data "Icon" "SJ02_3"
data "StackId" "SJ02_3"
data "Boosts" "ScaleMultiplier(1.05)"
data "FormatColor" "Green"
data "ApplyEffect" "410cb7d9-d592-440e-b88e-bccafafc8d9f"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;IgnoreResting"
data "RemoveConditions" "IsKillingBlow() and Character()"
data "RemoveEvents" "OnDamage"
data "StatusGroups" "SG_Condition;SG_Cursed"

new entry "SJ02_Switcher"
type "PassiveData"
data "DisplayName" "h64b37061gc748g4602g802cg8c8b2ceca40e;1"
data "Description" "h147b11acg7217g481fgabfdgdca2c425a343;1"
data "Icon" "SJ02_AURA"
data "Properties" "Highlighted;ToggledDefaultOn;ToggledDefaultAddToHotbar;IsToggled"
data "ToggleOnFunctors" "ApplyStatus(SJ02_VFX, 100, -1)"
data "ToggleOffFunctors" "RemoveStatus(SJ02_VFX)"

// Berbalang stuff
new entry "AMP_Berbalang"
type "Character"
using "LOW_Raphael_Imp"
data "Level" "8"
data "ActionResources" "ActionPoint:1;BonusActionPoint:1;Movement:13;ReactionActionPoint:1"
data "Strength" "9"
data "Dexterity" "16"
data "Constitution" "9"
data "Intelligence" "17"
data "Wisdom" "11"
data "Charisma" "10"
data "Armor" "14"
data "Vitality" "55"
data "Weight" "110"
data "Sight" "3600"
data "Hearing" "2000"
data "FOV" "90"
data "DarkvisionRange" "36"
data "GameSize" "Medium"
data "SoundSize" "Medium"
data "PersonalStatusImmunities" "CRIPPLED;SCL_SHADOW_CURSE;SCL_SHADOW_CURSE_1;SCL_SHADOW_CURSE_2;SCL_SHADOW_CURSE_3;SCL_SHADOW_CURSE_4"
data "DefaultBoosts" "Skill(Perception, 12)"
data "SpellCastingAbility" "Intelligence"
data "UnarmedAttackAbility" "Dexterity"
data "UnarmedRangedAttackAbility" "Dexterity"
data "Passives" "AttackOfOpportunity;DarknessRules;DevilsSight;ShortResting;Berbalang_UnstablePlane;Berbalang_SavingThrows;ExtraAttack"
data "BludgeoningResistance" "None"
data "SlashingResistance" "None"
data "PiercingResistance" "None"
data "ColdResistance" "None"
data "FireResistance" "None"
data "PoisonResistance" "None"
data "ArmorType" "None"
data "XPReward" "810b5510-6748-4c8e-bef0-d990880ed1dd"
data "DifficultyStatuses" "STATUS_EASY: HEALTHREDUCTION_EASYMODE; STATUS_EASY: DISABLE_CRITICALHITS; STATUS_MEDIUM: DISABLE_CRITICALHITS; STATUS_HARD: HEALTHBOOST_HARDCORE; STATUS_HARD: BERBALANG_HARDCORE"

new entry "Target_Claws_Berbalang"
type "SpellData"
data "SpellType" "Target"
using "Target_Claws_Imp"
data "TargetRadius" "1.5"
data "SpellSuccess" "DealDamage(max(1,2d4+UnarmedMeleeAbilityModifier),Slashing)"
data "Icon" "Action_Quasit_Claws"
data "TooltipDamageList" "DealDamage(2d4+UnarmedMeleeAbilityModifier,Slashing)"
data "SpellAnimation" "8b8bb757-21ce-4e02-a2f3-97d55cf2f90b,,;6606c30b-be1c-4f17-ae6b-1a591c80b18c,,;f4ac302b-1569-404f-bd52-1fe443e265df,,;e8a5c57f-855b-4227-acaa-11e8ce8d7d64,,;7bb52cd4-0b1c-4926-9165-fa92b75876a3,,;2b81c18b-9698-4262-a623-932c2bb1296d,,;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "SpellAnimationIntentType" "Aggressive"
data "CastEffect" "a3d3617e-73ca-4eb1-a521-7615c6fc6aa6"
data "TargetEffect" "5b143818-1f79-47e2-b5ad-a39e97ce83c1"

new entry "Target_Bite_Berbalang"
type "SpellData"
data "SpellType" "Target"
using "Target_Bite_Spectator"
data "TargetRadius" "1.5"
data "SpellSuccess" "DealDamage(max(1,1d10+UnarmedMeleeAbilityModifier),Piercing)"
data "TooltipDamageList" "DealDamage(1d10+UnarmedMeleeAbilityModifier,Piercing)"
data "SpellAnimationIntentType" "Aggressive"
data "Sheathing" "DontChange"

new entry "BERBALANG_HARDCORE"
type "StatusData"
data "StatusType" "BOOST"
using "DIFFICULTY_SHAREDDEV"
data "Boosts" "AC(9)"

new entry "BERBALANG_SIGHT"
type "StatusData"
data "StatusType" "BOOST"
using "SEE_INVISIBILITY"
data "DisplayName" "h9a76513cg3173g4914gb0fdgee0e26092ab5;1"
data "Description" "h33c1ce6ag3d42g4ab1g8a29gdf9f5cc0dcef;1"
data "DescriptionParams" "Distance(36)"
data "Icon" "Spell_Divination_SeeInvisibility"
data "StackId" "SEE_INVISIBILITY"
data "AuraRadius" "36"
data "StatusEffect" ""

new entry "Berbalang_UnstablePlane"
type "PassiveData"
using "MAG_Neck30_bonus"
data "DisplayName" "h91136371g2a0ag4635g91b5g96e348a4bc0e;1"
data "Description" "h9e2cf5eeg9609g4969gb2e7g90a12cf8fdf7;1"
data "DescriptionParams" "5"
data "Properties" "Highlighted"
data "Boosts" "IgnoreDamageThreshold(All,5)"
data "Icon" "PassiveFeature_WardingFlare"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "RollDieAgainstDC(DiceType.d100,91)"
data "StatsFunctors" "DealDamage(SWAP,1d20,Force,Magical);ApplyStatus(SELF,BANISHED,100,2)"

new entry "Berbalang_SavingThrows"
type "PassiveData"
using "CTY_NecromancyOfThay_ForbiddenKnowledge_Passive"
data "Icon" "PassiveFeature_MagicalAmbush"
data "DisplayName" "h1c6cc694g7070g4a0cg87cegcdaa9766db39;1"
data "Description" "h40de051agd8f8g4a2cgae81g0689cf33cc26;1"
data "DescriptionParams" "5"
data "Properties" "Highlighted"
data "Boosts" "RollBonus(SavingThrow, 5, Dexterity);RollBonus(SavingThrow, 5, Intelligence);RollBonus(Attack,5)"

new entry "Shout_MirrorImage_Berbalang"
type "SpellData"
data "SpellType" "Shout"
using "Shout_MirrorImage"
data "TooltipUpcastDescription" ""
data "VocalComponentSound" ""
data "UseCosts" "BonusActionPoint:1"

new entry "SJ03"
type "Armor"
using "ARM_Amulet"
data "RootTemplate" "f05007c9-ff7f-4c30-9572-ea1489ba2a7c"
data "ValueOverride" "500"
data "Rarity" "Rare"
data "Unique" "1"
data "ComboCategory" "d2"
data "ValueLevel" "5"
data "PassivesOnEquip" "SJ03_bonus"
data "Boosts" ""

new entry "SJ03_bonus"
type "PassiveData"
data "DisplayName" "h9339a6a5geee0g4e1ag85d9g9268ee60f503;1"
data "Description" "h055f14f5g84e3g44edgafc7gc00e0ba0aa69;1"
data "DescriptionParams" "3;2"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnDamaged"
data "Conditions" "IsCritical() and not HasStatus('SJ03_01')"
data "StatsFunctors" "ApplyStatus(SJ03_01,100,3);IF(RollDieAgainstDC(DiceType.d100,91)):ApplyStatus(SJ03_02,100,2);IF(RollDieAgainstDC(DiceType.d100,91)):ApplyStatus(SJ03_03,100,2);IF(RollDieAgainstDC(DiceType.d100,91)):ApplyStatus(SJ03_04,100,2);IF(RollDieAgainstDC(DiceType.d100,91)):ApplyStatus(SJ03_05,100,2);IF(RollDieAgainstDC(DiceType.d100,91)):ApplyStatus(SJ03_06,100,2);IF(RollDieAgainstDC(DiceType.d100,91)):ApplyStatus(SJ03_07,100,2);IF(RollDieAgainstDC(DiceType.d100,91)):ApplyStatus(SJ03_08,100,2);"

new entry "SJ03_01"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h07082adbg1813g4c66g831agb3b260d4b7d4;1"
data "Description" "hcca42763ga08cg46aeg9d08g2c2aa899329f;1"
data "DescriptionParams" "5"
data "Icon" "SJ03_01"
data "FormatColor" "StoryItem"
data "StackId" "SJ03_01"
data "TickType" "EndTurn"
data "Boosts" "AC(5)"
data "ApplyEffect" "91da6bc7-f17d-414c-a178-c66cb9439be2"
data "StatusEffect" "51290f19-1f43-4b33-b12a-5b44080df1d8"
data "StatusPropertyFlags" "ForceOverhead"
data "StatusGroups" "SG_Condition"

new entry "SJ03_02"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h50558969gc6c7g43a3ga4d0gb0df9cd97b51;1"
data "Description" "h9c138805ga9acg4b58g8ae2gbdcb4aa0cf92;1"
data "DescriptionParams" "2"
data "Icon" "GenericIcon_Intent_Debuff"
data "FormatColor" "Charm"
data "StackId" "SJ03_02"
data "TickType" "EndTurn"
data "Boosts" "Ability(Strength, -2);Ability(Dexterity, -2);Ability(Constitution, -2);Ability(Intelligence, -2);Ability(Wisdom, -2);Ability(Charisma, -2)"
data "ApplyEffect" "9b943c3a-c0f1-4dfb-9eb1-2d28a050ef2e"
data "StatusGroups" "SG_Condition"

new entry "SJ03_03"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hbbacb749g314cg4d9cgbe93g15280fa2a8c3;1"
data "Description" "hfcda28f8gd4beg4ba9g844cg04d26f6a9ae7;1"
data "DescriptionParams" "Distance(5)"
data "Icon" "PassiveFeature_WardingFlare"
data "FormatColor" "Summoner"
data "StackId" "SJ03_03"
data "TickType" "EndTurn"
data "AuraRadius" "5"
data "AuraStatuses" "TARGET:IF(Character() and not Dead() and not HasStatus('SJ03_03_01')):ApplyStatus(SJ03_03_01)"
data "RemoveConditions" ""
data "RemoveEvents" ""
data "StatusPropertyFlags" "ApplyToDead;OverheadOnTurn"
data "StatusEffect" ""
data "ApplyEffect" "9b943c3a-c0f1-4dfb-9eb1-2d28a050ef2e"
data "StatusGroups" "SG_Condition"

new entry "SJ03_03_01"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hbbacb749g314cg4d9cgbe93g15280fa2a8c3;1"
data "Description" "hbafc5b00g5fb0g4784g8103gf611811d86a1;1"
data "DescriptionParams" "Distance(5)"
data "Icon" "Status_Paralyzed"
data "FormatColor" "Summoner"
data "StackId" "SJ03_03_01"
data "TickType" "EndTurn"
data "Boosts" "ActionResourceBlock(Movement);ActionResourceBlock(BonusActionPoint);ActionResourceBlock(ActionPoint);ActionResourceBlock(ReactionActionPoint)"
data "AnimationStart" "b554aad5-6f39-4406-b248-e82084d01b1f(STAT_Dazed_Combat_01_Start)"
data "AnimationLoop" "06cff5ab-1705-403a-b20f-d5c9defbece5(STAT_Dazed_Combat_01_Loop)"
data "AnimationEnd" "1f3a444e-1012-48ba-8d67-2717082e6470(STAT_Dazed_Combat_01_End)"
data "StillAnimationPriority" "Dazed"
data "SoundStart" "Misc_Status_Paralyzed_Enter_MO"
data "FreezeTime" "10000"
data "StatusPropertyFlags" "ForceOverhead;ApplyToDead;BringIntoCombat;OverheadOnTurn"
data "StatusGroups" "SG_Incapacitated;SG_Condition;SG_Paralyzed"
data "StatusEffect" ""

new entry "SJ03_04"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h5a16fcc9g3c3ag4ef9g8412ga67b3cce0438;1"
data "Description" "h15fdcbe8g8bf4g4109g92f8g7075521082c3;1"
data "DescriptionParams" ""
data "Icon" "GenericIcon_Intent_Debuff"
data "FormatColor" "Decay"
data "StackId" "SJ03_04"
data "TickType" "EndTurn"
data "Boosts" "Disadvantage(SavingThrow,Wisdom);Disadvantage(Ability, Wisdom);Disadvantage(SavingThrow,Intelligence);Disadvantage(Ability, Intelligence);Disadvantage(SavingThrow,Charisma);Disadvantage(Ability, Charisma)"
data "ApplyEffect" "9b943c3a-c0f1-4dfb-9eb1-2d28a050ef2e"
data "StatusGroups" "SG_Condition"

new entry "SJ03_05"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hf93e1decgd770g475egad6fga4061285dcf2;1"
data "Description" "hb722c65bg173bg4831ga308g17d2bbc348ad;1"
data "Icon" "SJ03_05"
data "FormatColor" "Red"
data "StackId" "SJ03_05"
data "TickType" "EndTurn"
data "OnApplyFunctors" "GROUND:Spawn(48e9103d-e97c-4dc3-a244-dc2015d959f5,Projectile_AiHelper_Summon_Strong,SHADOWCURSE_SUMMON_CHECK,SJ03_05_VFX,ASTRAL_PORTAL_VFX)"

new entry "SJ03_05_VFX"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "SJ03_05_VFX"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting"
data "ApplyEffect" "9b943c3a-c0f1-4dfb-9eb1-2d28a050ef2e"

new entry "SJ03_Redcap"
type "Character"
using "RedCap"
data "Armor" "10"
data "Vitality" "35"

new entry "Target_SJ03_Redcap"
type "SpellData"
data "SpellType" "Target"
using "Target_IronboundPursuit_RedCap"
data "SpellRoll" "not SavingThrow(Ability.Dexterity, SourceSpellDC()+3)"
data "SpellSuccess" "DealDamage(4d8+UnarmedMeleeAbilityModifier,Bludgeoning);ApplyStatus(PRONE,100,1);Force(3);"
data "DisplayName" "hcb292111g77bag478ag9864g457d8ed09e2c;1"
data "Description" "h91ae89f4ga33bg4738g9a6eg5d96063f143c;3"
data "DescriptionParams" "Distance(3)"
data "TooltipDamageList" "DealDamage(4d8+UnarmedMeleeAbilityModifier,Bludgeoning)"
data "TooltipStatusApply" "ApplyStatus(PRONE,100,1)"

new entry "SJ03_06"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h980c40a5gc9adg4142gb069gac6d8abde507;1"
data "Description" "hb8354f75g914dg437eg9b50gec340375c434;1"
data "DescriptionParams" "10"
data "Icon" "SJ03_06"
data "FormatColor" "Blue"
data "StackId" "SJ03_06"
data "TickType" "EndTurn"
data "Boosts" "IF(IsSpell()):DamageTakenBonus(10);IF(IsSpell()):DamageBonus(10)"
data "StatusEffect" ""
data "ApplyEffect" "9b943c3a-c0f1-4dfb-9eb1-2d28a050ef2e"
data "StatusPropertyFlags" ""
data "StatusGroups" "SG_Condition"

new entry "SJ03_07"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hdc9d6676gc8c8g49d2g83d2g73baf278a99a;1"
data "Description" "h935ada43g1c19g4ea3g881agf55df75f50c1;1"
data "DescriptionParams" "50"
data "Icon" "SJ03_07"
data "FormatColor" "LightBlue"
data "StackId" "SJ03_07"
data "TickType" "EndTurn"
data "TickFunctors" "IF(HasStatus('WET')):RegainHitPoints(MaxHP/2);IF(not HasStatus('WET')):DealDamage(MaxHP/2,Force,Magical,,0,,true,true)"
data "StatusEffect" ""
data "ApplyEffect" "9b943c3a-c0f1-4dfb-9eb1-2d28a050ef2e"
data "StatusGroups" "SG_Condition"

new entry "SJ03_08"
type "StatusData"
data "StatusType" "BOOST"
using "ENLARGE"
data "DisplayName" "ha0c4b070gaf77g4c82g9df9g656b07a8197d;1"
data "Description" "h1389a5a6g907fg4be9g840ag1d0704a9f3f1;1"
data "DescriptionParams" "1;1;4"
data "Icon" "Spell_Transmutation_Enlarge"
data "FormatColor" "Red"
data "StackId" "SIZE"
data "TickType" "EndTurn"
data "ApplyEffect" "9b943c3a-c0f1-4dfb-9eb1-2d28a050ef2e"
data "StatusGroups" "SG_Condition"

new entry "SJ04"
type "Armor"
using "ARM_Ring"
data "RootTemplate" "b4a27de8-21e4-4050-854e-41ddc3fccd3e"
data "ValueOverride" "400"
data "Rarity" "Rare"
data "Unique" "1"
data "ComboCategory" "d2"
data "ValueLevel" "5"
data "PassivesOnEquip" "SJ04_bonus"
data "Boosts" ""

new entry "SJ04_bonus"
type "PassiveData"
data "DisplayName" "h7830f2bfgf6e6g4be6g9f19g6fbb270bc162;1"
data "Description" "hec8b872dg9dc7g4563gb54bgd944ce9a219a;1"
data "DescriptionParams" "DealDamage(,Necrotic);Distance(3);DealDamage(2d4,Necrotic)"
data "Properties" "Highlighted;OncePerTurn"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "HasDamageDoneForType(DamageType.Necrotic) and not IsTrap(context.Source)"
data "StatsFunctors" "CreateExplosion(SJ04_AOE)"

new entry "SJ04_AOE"
type "SpellData"
data "SpellType" "Projectile"
data "SpellProperties" "DealDamage(2d4,Necrotic,Magical)"
data "TooltipDamageList" "DealDamage(2d4,Necrotic)"
data "TargetFloor" "-1"
data "ProjectileCount" "1"
data "AreaRadius" "3"
data "ExplodeRadius" "3"
data "TargetConditions" "not Dead()"
data "Icon" "GenericIcon_DamageType_Necrotic"
data "HitAnimationType" "MagicalDamage_External"
data "Trajectories" "f346b284-854e-4dd9-b87c-3938f5178265,78f998fb-2bb4-c8bd-c170-fcd899abc905,a62c27e3-86c0-db69-8f04-0ea3074cae7a "
data "CastSound" ""
data "TargetSound" ""
data "DisplayName" "h7830f2bfgf6e6g4be6g9f19g6fbb270bc162;1"
data "SpellFlags" "IsHarmful;CanAreaDamageEvade;IsTrap"
data "SpellAnimation" "3ff87abf-1ea1-4c32-aadf-c822d74c7dc0,,;,,;d30d2b40-c45a-45bd-94d7-9b2baaf0f77b,,;a601b33c-5320-455d-b4d4-74d6dc35b757,,;d8925ce4-d6d9-400c-92f5-ad772ef7f178,,;,,;eadedcce-d01b-4fbb-a1ae-d218f13aa5d6,,;,,;,,"
data "PrepareEffect" ""
data "CastEffect" ""
data "TargetEffect" "f2a17384-17bd-43d8-a6f7-cddcf2dbaeb5"
data "BeamEffect" ""
data "HitEffect" "f2a17384-17bd-43d8-a6f7-cddcf2dbaeb5"

// Fire Lord's Ring
new entry "SJ05"
type "Armor"
using "ARM_Ring"
data "RootTemplate" "8460029f-c88c-49c4-a93c-ccfdb7da04c1"
data "ValueOverride" "800"
data "Rarity" "VeryRare"
data "Unique" "1"
data "ComboCategory" "d3"
data "ValueLevel" "7"
data "PassivesOnEquip" "SJ05_bonus"
data "StatusOnEquip" "SJ05_TECHNICAL"

new entry "SJ05_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "SJ05_TECHNICAL"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting;ApplyToDead"
data "AuraRadius" "10"
data "AuraStatuses" "IF(not Self() and Character() and Combat()):ApplyStatus(SJ05_STATUS)"
data "TickFunctors" "IF(not HasStatus('BURNING')):ApplyStatus(BURNING, 100, -1)"

new entry "SJ05_STATUS"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hcd62e3d5gcffdg4e50gbe0dg745f2aefc0ec;1"
data "StackId" "SJ05_STATUS"
data "StatusEffect" ""
data "Passives" "SJ05_bonus_2"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "StatusEffect" "6fe0a4ba-a8d5-4ba5-aaca-fb549bd8b958"

new entry "SJ05_bonus_2"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamaged"
data "Conditions" "IsDamageTypeFire()"
data "StatsFunctors" "DealDamage(1d4,Fire,Magical)"

new entry "SJ05_bonus"
type "PassiveData"
data "DisplayName" "hcd62e3d5gcffdg4e50gbe0dg745f2aefc0ec;1"
data "Description" "haac9488ag6ee9g483ag9caeg637174310d24;1"
data "DescriptionParams" "Distance(10);DealDamage(,Fire);DealDamage(1d4,Fire)"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "IsDamageTypeFire() and IsSpell()"
data "StatsFunctors" "DealDamage(DamageDone,Fire,Magical,,0,,true,true)"

// Ring of Unstable Mercury
new entry "SJ06"
type "Armor"
using "ARM_Ring"
data "RootTemplate" "645df9ae-4d5d-47bc-b5ba-1f24d9e47b08"
data "ValueOverride" "2500"
data "Rarity" "Legendary"
data "Unique" "1"
data "ComboCategory" "d4"
data "ValueLevel" "10"
data "PassivesOnEquip" "SJ06_bonus"

new entry "SJ06_bonus"
type "PassiveData"
data "DisplayName" "hd5f8512eg4a49g4ea3g84bag6dafddb1aa45;1"
data "Description" "h31f92cddg5b37g4ea3g8addg59429651e3c5;1"
data "DescriptionParams" "DealDamage(1,Acid);1;10"
data "Properties" "Highlighted;OncePerTurn"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "IsSpell()"
data "StatsFunctors" "DealDamage(1,Acid,Magical,,0,,false,false);IF(RollDieAgainstDC(DiceType.d100,26)):DealDamage(1,Acid,Magical,,0,,false,false);IF(RollDieAgainstDC(DiceType.d100,26)):DealDamage(1,Acid,Magical,,0,,false,false);IF(RollDieAgainstDC(DiceType.d100,26)):DealDamage(1,Acid,Magical,,0,,false,false);IF(RollDieAgainstDC(DiceType.d100,26)):DealDamage(1,Acid,Magical,,0,,false,false);IF(RollDieAgainstDC(DiceType.d100,51)):DealDamage(1,Acid,Magical,,0,,false,false);IF(RollDieAgainstDC(DiceType.d100,51)):DealDamage(1,Acid,Magical,,0,,false,false);IF(RollDieAgainstDC(DiceType.d100,51)):DealDamage(1,Acid,Magical,,0,,false,false);IF(RollDieAgainstDC(DiceType.d100,76)):DealDamage(1,Acid,Magical,,0,,false,false);IF(RollDieAgainstDC(DiceType.d100,100)):DealDamage(1,Acid,Magical,,0,,false,false)"
